package jan.edu.ed.client;

import jan.edu.ed.client.forms.LoginForm;
import jan.edu.ed.client.services.LoginService;
import jan.edu.ed.client.services.PersonService;

import com.extjs.gxt.ui.client.Registry;
import com.extjs.gxt.ui.client.Style.LayoutRegion;
import com.extjs.gxt.ui.client.widget.ContentPanel;
import com.extjs.gxt.ui.client.widget.Viewport;
import com.extjs.gxt.ui.client.widget.layout.BorderLayout;
import com.extjs.gxt.ui.client.widget.layout.BorderLayoutData;
import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.core.client.GWT;
import com.google.gwt.user.client.ui.RootPanel;

/**
 * Entry point classes define <code>onModuleLoad()</code>.
 */
public class ExploitDemo implements EntryPoint {

	final LoginForm loginForm = new LoginForm();
	
	@Override
	public void onModuleLoad() {
		Registry.register(ExploitDemoConstants.LOGIN_SERVICE, GWT.create(LoginService.class));
		Registry.register(ExploitDemoConstants.PERSON_SERVICE, GWT.create(PersonService.class));
		
		//Layout-Stuff
		Viewport viewport = new Viewport();
		final BorderLayout borderLayout = new BorderLayout(); viewport.setLayout(borderLayout);
		ContentPanel cp = new ContentPanel();
		cp.add(loginForm);
		viewport.setLayout(borderLayout);
		BorderLayoutData centerData = new BorderLayoutData(LayoutRegion.CENTER);
		viewport.add(cp,centerData);
		RootPanel.get().add(viewport);	
	}

}
